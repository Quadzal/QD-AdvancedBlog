!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(r){function s(e,t){var i=e.data("timesince");return i?e.text(r.timesince.timeSince((new Date).getTime()-i.datetime.getTime())):clearInterval(t),e}r.timesince=function(e){return e instanceof Date?timeSince(e):"string"==typeof e?timeSince(r.timesince.parse(e)):"number"==typeof e?timeSince(new Date(e)):timeSince(r.timesince.datetime(r(e)))},r.extend(r.timesince,{options:{refreshMs:6e4,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",minute:"minute",minutes:"minutes",hour:"hour",hours:"hours",day:"day",days:"days",week:"week",weeks:"weeks",month:"month",months:"months",year:"year",years:"years"}},chunks:[[31536e3,"year","years"],[2592e3,"month","months"],[604800,"week","weeks"],[86400,"day","days"],[3600,"hour","hours"],[60,"minute","minutes"]],timeSince:function(e){var t,i,n,r=this.options.strings,s=Math.abs(e)/1e3;if(i=e<0?(t=r.prefixFromNow,r.suffixFromNow):(t=r.prefixAgo,r.suffixAgo),t=t?t+" ":"",i=i?" "+i:"",s<60)return t+"0 "+r.minutes+i;for(n=0;n<this.chunks.length;n++){var a=this.chunks[n],o=a[0],m=Math.floor(s/o);if(0!=m){var u=t+this.getChunkText(a,m);if(n+1<this.chunks.length){var c=this.chunks[n+1],h=Math.floor((s-o*m)/c[0]);0!=h&&(u+=", "+this.getChunkText(c,h))}return u+i}}return""},getChunkText:function(e,t){var i=1===t?e[1]:e[2];return t+" "+this.options.strings[i]},parse:function(e){var t=r.trim(e);return t=(t=(t=(t=t.replace(/\.\d\d\d+/,"")).replace(/-/,"/").replace(/-/,"/")).replace(/T/," ").replace(/Z/," UTC")).replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(t)},datetime:function(e){var t=this.isTime(e)?e.attr("datetime"):e.attr("title");return this.parse(t)},isTime:function(e){return"time"===e[0].tagName.toLowerCase()}}),r.fn.timesince=function(e){var t,i,n=this;return 0<(i=(e=r.extend(e,r.timesince.options)).refreshMs)&&(t=setInterval(function(){n.each(function(){s(r(this),t)})},i)),this.each(function(){var e=r(this),t=r.trim(e.text());e.data("timesince",{datetime:r.timesince.datetime(e)}),!(0<t.length)||r.timesince.isTime(e)&&e.attr("title")||e.attr("title",t),s(e)})},document.createElement("time")});